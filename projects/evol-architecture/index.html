<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<title>evol Architecture - Robear Selwans' Portfolio</title><meta name=description content="The process of picking an architecture for the evol game engine."><meta property="og:title" content="evol Architecture">
<meta property="og:description" content="The process of picking an architecture for the evol game engine.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://mo7sen.github.io/projects/evol-architecture/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-07-31T13:25:00+00:00">
<meta property="article:modified_time" content="2021-07-31T13:25:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="evol Architecture">
<meta name=twitter:description content="The process of picking an architecture for the evol game engine.">
<meta name=application-name content="Robear Selwans' Portfolio">
<meta name=apple-mobile-web-app-title content="Robear Selwans' Portfolio"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://mo7sen.github.io/projects/evol-architecture/><link rel=prev href=https://mo7sen.github.io/projects/evol-assetmanager/><link rel=next href=https://mo7sen.github.io/projects/evol/><link rel=stylesheet href=/css/page.min.css><link rel=stylesheet href=/css/home.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"evol Architecture","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/mo7sen.github.io\/projects\/evol-architecture\/"},"genre":"posts","keywords":"Game Engine","wordcount":689,"url":"https:\/\/mo7sen.github.io\/projects\/evol-architecture\/","datePublished":"2021-07-31T13:25:00+00:00","dateModified":"2021-07-31T13:25:00+00:00","publisher":{"@type":"Organization","name":"Robear Selwans"},"author":{"@type":"Person","name":"Robear Selwans"},"description":"The process of picking an architecture for the evol game engine."}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':''==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:''==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title="Robear Selwans' Portfolio">Robear Selwans' Portfolio</a>
</div>
<div class=menu>
<div class=menu-inner><a class=menu-item href=/about/> About </a><a class=menu-item href=/cv.pdf> CV </a><a class=menu-item href=/categories/project/> Projects </a><a class=menu-item href=/categories/> Categories </a><a class=menu-item href=/tags/> Tags </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a>
</div>
</div>
</div>
</header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title="Robear Selwans' Portfolio">Robear Selwans' Portfolio</a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><a class=menu-item href=/about/ title>About</a><a class=menu-item href=/cv.pdf title>CV</a><a class=menu-item href=/categories/project/ title>Projects</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/tags/ title>Tags</a><div class=menu-item><a href=javascript:void(0); class=theme-switch title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a>
</div></div>
</div>
</header><main class=main>
<div class=container><div class=toc id=toc-auto>
<h2 class=toc-title>Contents</h2>
<div class=toc-content id=toc-content-auto></div>
</div><article class="page single" data-toc=disable><div class=single-card><h2 class="single-title animated flipInX">evol Architecture</h2><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=https://mo7sen.github.io/about title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>Robear Selwans</a></span>&nbsp;<span class=post-category>published in <a href=/categories/project/><i class="far fa-folder fa-fw"></i>Project</a></span></div>
<div class=post-meta-line><span><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-07-31>2021-07-31</time></span>&nbsp;<span><i class="fas fa-pencil-alt fa-fw"></i>&nbsp;689 words</span>&nbsp;
<span><i class="far fa-clock fa-fw"></i>&nbsp;4 minutes</span>&nbsp;</div>
</div>
<hr><div class="details toc" id=toc-static data-kept>
<div class="details-summary toc-title">
<span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#overview>Overview</a></li>
<li><a href=#option-1-layered-architecture>Option #1: Layered Architecture</a></li>
<li><a href=#option-2-plugin-architecture>Option #2: Plugin Architecture</a></li>
<li><a href=#option-3-hybrid-architecture>Option #3: Hybrid Architecture</a></li>
<li><a href=#winning-architecture>Winning Architecture?</a></li>
</ul>
</nav></div>
</div><div class=content id=content><h2 id=overview>Overview</h2>
<p>Any software that is being designed needs to adhere to a specific architecture.
Having an explicit architecture allows the design process to be much smoother as
architectures come with their own set of rules that can increase consistency
across the entire software. A game engine is no different; in fact, as the game
engine is a much bigger software than most, it sometimes needs to have multiple
architectures with some subsystems having their own ones.</p>
<h2 id=option-1-layered-architecture>Option #1: Layered Architecture</h2>
<p>This architecture is widely used in a lot of software projects. It&rsquo;s also used
in Godot which is currently one of the major game engines. This is mostly
because it focuses on its purpose and does it well, and that is to ensure
maximum stability by having a defined hierarchy for the responsibilities of
each collection of subsystems in a system. Its main idea is that different
subsystems can exist on different levels of the software. Having multiple
levels with subsystems residing on specific ones starts to become useful when
rules are added to these layers, the most important rule is that subsystems can
only use functionalities from subsystems that are on a lower layer than they
are. This allows the dependencies to be a bit more organized as a subsystem
cannot be dependent on another that is on a higher layer.</p>
<figure><img src=/evol/images/architecture/layered_arch.png alt="Layered Architecture Diagram"><figcaption>
<h4>Figure 1: Layered Architecture</h4>
</figcaption>
</figure>
<p>However, the main problem with such an approach is that it is static. Static
here means that once a module changes, all other modules that depend on it are
affected and might need individual changes to adapt with that change.</p>
<h2 id=option-2-plugin-architecture>Option #2: Plugin Architecture</h2>
<p>This architecture is mainly used by open-source game engines, such as:
WishEngine and MAGE. The plugin architecture’s main idea is that all subsystems
are considered plugins. These plugins are then connected to a core; which is
responsible for orchestrating the entire plugin framework and maintaining the
plugins so that dependencies are always met. This architecture improves
flexibility and extensibility.</p>
<p>The plugin architecture is on the other end of the spectrum with respect to the
layered architecture. While the layered architecture has some strict rules
regarding how subsystems communicate together, the plugin architecture has no
such rules, and all subsystems can communicate with each other freely. Also,
while the layered architecture is static, the plugin architecture is dynamic
enough for subsystems to be added or removed at runtime.</p>
<p>While this architecture beats the layered architecture in some aspects, and
even brings its own advantages, there are some pros to the layered architecture
that it just cannot replace. Removing communication criteria ends up
convoluting the dependencies between systems to the point that it is no longer
possible to predict what a change to the system will break.</p>
<figure><img src=/evol/images/architecture/plugin_arch.png alt="Plugin Architecture Diagram"><figcaption>
<h4>Figure 2: Plugin Architecture</h4>
</figcaption>
</figure>
<h2 id=option-3-hybrid-architecture>Option #3: Hybrid Architecture</h2>
<p>Since both architectures have both their pros and cons, it is only logical to
think about building a new architecture that has the pros of both architectures
and none of their cons. This architecture will be a mix of both with just the
right amount of each one so that the engine can be both flexible and scale-able.</p>
<p>This architecture can be achieved by first designing a normal plugin framework,
then enforcing the layered architecture’s strict communication rules through a
dependency system. Using this design, the engine should have the scale-ability
of the plugin architecture while also maintaining the maintainability of the
layered architecture.</p>
<figure><img src=/evol/images/architecture/hybrid_arch.png alt="Hybrid Architecture Diagram"><figcaption>
<h4>Figure 3: Hybrid Architecture</h4>
</figcaption>
</figure>
<h2 id=winning-architecture>Winning Architecture?</h2>
<p>While both the layered architecture and the plugin architecture are very stable
and tested in widely used game engines, mixing the two architectures together
gives an architecture with the pros of both and none of their cons. This gives
us a very stable and scale-able architecture that can be easily maintained.</p>
<p>As shown in <strong>Figure 3</strong>, for such an architecture, there needs to be a single
point where everything is coupled. This point will be the core of the entire
engine and can be referred to as the &ldquo;Plugin Framework&rdquo; as it will be the part
of the system that manages the plugins
(which will be referred to as &ldquo;Modules&rdquo;.)</p>
<h1 id=references>References</h1>
<ul>
<li>Introduction to Godot development: <a href=https://docs.godotengine.org/en/stable/development/cpp/introduction_to_godot_development.html target=_blank rel="noopener noreffer">https://docs.godotengine.org/en/stable/development/cpp/introduction_to_godot_development.html</a></li>
</ul>
</div><div class=post-footer id=post-footer>
<div class=post-info><div class=post-info-tag><span><a href=/tags/game-engine/>Game Engine</a>
</span></div><div class=post-info-line><div class=post-info-mod>
<span>Updated on 2021-07-31</span>
</div><div class=post-info-mod></div>
</div><div class=post-info-share>
<span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://mo7sen.github.io/projects/evol-architecture/ data-title="evol Architecture" data-hashtags="Game Engine"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://mo7sen.github.io/projects/evol-architecture/ data-hashtag="Game Engine"><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://mo7sen.github.io/projects/evol-architecture/><i class="fab fa-reddit fa-fw"></i></a></span>
</div></div><div class=post-nav><a href=/projects/evol-assetmanager/ class=prev rel=prev title=evol-assetmanager><i class="fas fa-angle-left fa-fw"></i>Previous Post</a>
<a href=/projects/evol/ class=next rel=next title=evol>Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div></article></div>
</main>
<footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://mo7sen.github.io/about>Robear Selwans</a></span></div>
</div>
</footer>
</div>
<div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top">
<i class="fas fa-chevron-up fa-fw"></i>
</a></div><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script src=/lib/lazysizes/lazysizes.min.js></script><script src=/lib/clipboard/clipboard.min.js></script><script src=/lib/sharer/sharer.min.js></script><script>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{}}</script><script src=/js/theme.min.js></script></body></html>